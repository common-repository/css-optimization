!function(e){var t=window.addEventListener?"addEventListener":"attachEvent";(0,window[t])("attachEvent"==t?"onmessage":"message",function(e){if(e.data&&e.data.action){if(!document.getElementById("o10n-critical-css"))return void alert("Error: Critical CSS <style> element not found.");switch(e.data.action){case"extract":var t=e.data.type;s=document,(n=s.createElement("script")).async=!0,n.onload=function(){switch(t){case"critical-css":o10n.extract("critical",function(e){parent.postMessage({action:"critical-css",css:e.replace(/(\?|\&)o10n-full-css=1\&t=[0-9]+$/,"")},"*")});break;case"full-css":o10n.extract("full")}},n.src=o10n_css_path+"public/js/critical-css-widget.min.js",s.head.appendChild(n);break;case"set":(a=document.getElementById("o10n-critical-css")).styleSheet?a.styleSheet.cssText=e.data.css:(a.innerHTML="",a.appendChild(document.createTextNode(e.data.css)));break;case"get":var c,a;c=(a=document.getElementById("o10n-critical-css")).styleSheet?a.styleSheet.cssText:a.innerHTML,parent.postMessage({action:"critical-css",css:c},"*")}}var s,n},!1)}(window,document);